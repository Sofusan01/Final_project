(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{2637:(e,a,t)=>{Promise.resolve().then(t.bind(t,85774))},56104:(e,a,t)=>{"use strict";t.d(a,{db:()=>i});var r=t(23915),l=t(81115);let s=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyDRn8HHi_a4SAgFDAOvm0-ks_IGVfhCEZ0",authDomain:"dashboard-4de68.firebaseapp.com",databaseURL:"https://dashboard-4de68-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"dashboard-4de68",storageBucket:"dashboard-4de68.firebasestorage.app",messagingSenderId:"759947044425",appId:"1:759947044425:web:6db0a728a2b831d26f8198",measurementId:"G-RRNL8VHNL4"}),i=(0,l.C3)(s)},85774:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(95155),l=t(12115),s=t(81115),i=t(56104),o=t(99476),d=t(44992),n=t(48691),m=t(30790),x=t(72111),c=t(62098),u=t(71539);let g={temp:{label:"Temperature",icon:d.A,unit:"\xb0C",color:"text-red-600 dark:text-red-300",min:0,max:40,optimal:{min:20,max:30},gaugeColor:"#ef4444",gaugeOptimalColor:"#10b981"},humid:{label:"Humidity",icon:n.A,unit:"%",color:"text-blue-600 dark:text-blue-300",min:0,max:100,optimal:{min:40,max:70},gaugeColor:"#3b82f6",gaugeOptimalColor:"#06b6d4"},wt:{label:"Water Temperature",icon:m.A,unit:"\xb0C",color:"text-cyan-600 dark:text-cyan-300",min:0,max:40,optimal:{min:18,max:25},gaugeColor:"#06b6d4",gaugeOptimalColor:"#10b981"},ph:{label:"pH Level",icon:x.A,unit:"",color:"text-purple-600 dark:text-purple-300",min:0,max:14,optimal:{min:5.5,max:7.5},gaugeColor:"#8b5cf6",gaugeOptimalColor:"#a855f7"},lux:{label:"Light Intensity",icon:c.A,unit:"lux",color:"text-amber-600 dark:text-amber-300",min:0,max:1e5,optimal:{min:0,max:5e4},gaugeColor:"#f59e0b",gaugeOptimalColor:"#eab308"},ec:{label:"Conductivity",icon:u.A,unit:"mS/cm",color:"text-emerald-600 dark:text-emerald-300",min:0,max:3e3,optimal:{min:0,max:3e3},gaugeColor:"#10b981",gaugeOptimalColor:"#059669"}};function h(e){let{floor:a}=e,[t,d]=(0,l.useState)(null),[n,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=(0,s.KR)(i.db,"".concat(a,"/sensor")),t=(0,s.Zy)(e,e=>{let a=e.val()||{};Object.keys(a).forEach(e=>{a[e]||0===a[e]||delete a[e]}),d(a),m(!1)});return()=>t()},[a]);let x=t?Object.entries(t):[],c=x.length>0;return(0,r.jsxs)("div",{className:"w-full bg-white dark:bg-gray-900 rounded-2xl shadow-xl border-2 border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 dark:from-gray-900 dark:to-black p-4 sm:p-6 text-white",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl sm:text-2xl font-bold tracking-wide text-center text-white",children:a.toUpperCase()}),(0,r.jsx)("p",{className:"text-gray-200 dark:text-gray-300 text-sm sm:text-base text-center mt-1",children:"Plant Monitoring System"})]})})}),(0,r.jsx)("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-800 dark:to-gray-900",children:n?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-4 border-blue-600"}),(0,r.jsx)("span",{className:"ml-4 text-gray-800 dark:text-gray-200 text-base sm:text-lg font-bold",children:"Loading..."})]}):c?(0,r.jsx)("div",{className:"flex flex-row flex-wrap gap-6 justify-between",children:x.map(e=>{let[a,t]=e,l=g[a],s=Number(t);if(!l)return null;let i=l.icon,d=l.optimal&&s>=l.optimal.min&&s<=l.optimal.max?l.gaugeOptimalColor:l.gaugeColor;return(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white/90 to-gray-50/90 dark:from-gray-800/90 dark:to-gray-900/90 backdrop-blur-sm rounded-xl p-3 sm:p-4 border-2 border-gray-200/50 dark:border-gray-700/50 transition-all duration-300 hover:shadow-xl hover:scale-105 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-white/95 dark:hover:bg-gray-800/95 flex-1 min-w-[200px]",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center text-center mb-3 sm:mb-4 space-y-2 min-h-[80px] sm:min-h-[90px] px-1",children:[(0,r.jsx)("div",{className:"p-2 sm:p-3 rounded-xl bg-gradient-to-br from-white to-gray-100 dark:from-gray-700 dark:to-gray-800 shadow-lg border border-gray-200 dark:border-gray-600 ".concat(l.color," flex-shrink-0"),children:(0,r.jsx)(i,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 drop-shadow-sm"})}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-xs sm:text-sm leading-tight min-h-[28px] sm:min-h-[32px] flex items-center justify-center text-center px-1 max-w-full",children:(0,r.jsx)("span",{className:"truncate",children:l.label})}),(0,r.jsxs)("div",{className:"flex items-baseline justify-center gap-1 max-w-full overflow-hidden",children:[(0,r.jsx)("span",{className:"text-base sm:text-lg lg:text-xl font-bold ".concat(l.color," truncate max-w-[80px] sm:max-w-[100px]"),children:"lux"===a&&s>=1e3?"".concat((s/1e3).toFixed(1),"k"):"number"==typeof s?s%1==0?s.toString():s.toFixed(1):String(s)}),l.unit&&(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 flex-shrink-0",children:l.unit})]})]}),(0,r.jsx)("div",{className:"h-24 sm:h-28 lg:h-32 flex items-end justify-center",children:(0,r.jsx)(o._,{value:s,valueMin:l.min,valueMax:l.max,startAngle:-90,endAngle:90,innerRadius:"70%",outerRadius:"100%",text:"",sx:{"& .MuiGauge-valueArc":{fill:d,strokeWidth:8,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"},"& .MuiGauge-referenceArc":{fill:"#e5e7eb",strokeWidth:8}},width:window.innerWidth<640?100:window.innerWidth<1024?120:140,height:window.innerWidth<640?60:window.innerWidth<1024?70:80})}),(0,r.jsx)("div",{className:"flex justify-center mt-2",children:(0,r.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full shadow-sm",style:{backgroundColor:d}})})]},a)})}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-gray-700 dark:text-gray-300",children:[(0,r.jsx)("span",{className:"text-lg sm:text-xl font-bold",children:"No Data Available"}),(0,r.jsx)("span",{className:"text-sm sm:text-base mt-2 font-medium",children:"All sensors are offline"})]})})]})}function b(){let[e,a]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=setTimeout(()=>{a(!1)},100);return()=>clearTimeout(e)},[]),e)?(0,r.jsx)("div",{className:"w-full h-64 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,r.jsx)("span",{className:"text-slate-600",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(h,{floor:"floor1"}),(0,r.jsx)(h,{floor:"floor2"}),(0,r.jsx)(h,{floor:"floor3"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[507,340,311,476,441,684,358],()=>a(2637)),_N_E=e.O()}]);